import{_ as M,r as _,w as V,o as v,c as p,a as l,b as i,d as J,e as U,E as j,f as d,n as $,F as I,g as P,t as g,u as K,h,i as L,j as q,k as H,l as Q,m as W,p as S,q as X,s as Y,v as B,x as G,y as R,z as A,A as Z,B as ee,C as oe}from"./index-ou4CFBeZ.js";const le="1",te="2",se="3",k="4",ae="#E47470",ne="#DCA550",de="#7EC050",ce="#5A9CF8",ie={class:""},ue={class:"select_option"},_e={class:"select_option_label1"},re={class:"select_option_label2"},ve={class:"select_option_icon"},pe={class:"select_label"},me={__name:"AddPlan",props:{todo:Object,visible:Boolean},emits:["update","close"],setup(f,{emit:s}){const a=f,r=s,m=_(a.visible),T=[h,h,h,h,h],t=[{value:le,label1:"紧急",label2:"重要",color:ae},{value:te,label1:"紧急",label2:"不重要",color:ne},{value:se,label1:"不紧急",label2:"重要",color:de},{value:k,label1:"不紧急",label2:"不重要",color:ce}],o=_({id:null,text:"",priority:k,estimatedPomodoros:0}),O=_("添加新的待办事项");V(()=>a.todo,e=>{e?(o.value={...e},O.value="编辑待办事项",m.value=!0):N()},{immediate:!0}),V(()=>a.visible,e=>{m.value=e});function N(){o.value={id:null,text:"",priority:k,estimatedPomodoros:0},O.value="添加新的待办事项"}function w(){o.value.text.trim()&&(r("update",{...o.value,done:!1}),D())}function D(){r("close")}return(e,u)=>{const x=U("MessageBox"),y=L,C=q,E=H,c=Q,b=W,F=j;return v(),p("div",ie,[l(F,{modelValue:o.value.text,"onUpdate:modelValue":u[2]||(u[2]=n=>o.value.text=n),placeholder:"在'任务'中添加一个任务，按'回车'键保存",onKeyup:J(w,["enter"])},{prepend:i(()=>[l(E,{modelValue:o.value.priority,"onUpdate:modelValue":u[0]||(u[0]=n=>o.value.priority=n),placeholder:"Select",size:"large",style:{width:"80px"}},{label:i(()=>{var n;return[d("div",pe,[l(y,{style:$({color:(n=t.find(z=>z.value==o.value.priority))==null?void 0:n.color})},{default:i(()=>[l(x)]),_:1},8,["style"])])]}),default:i(()=>[(v(),p(I,null,P(t,n=>l(C,{key:n.value,label:n.label,value:n.value},{default:i(()=>[d("div",ue,[d("div",_e,g(n.label1),1),d("div",re,g(n.label2),1),d("div",ve,[l(y,{style:$({color:n.color||"#3f8ef7"})},{default:i(()=>[l(x)]),_:2},1032,["style"])])])]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"])]),append:i(()=>[l(b,{placement:"top-start",width:200,trigger:"hover",content:"预计番茄钟~"},{reference:i(()=>[l(c,{modelValue:o.value.estimatedPomodoros,"onUpdate:modelValue":u[1]||(u[1]=n=>o.value.estimatedPomodoros=n),icons:T,"void-icon":K(h),colors:["#409eff","#67c23a","#FF9900"],clearable:""},null,8,["modelValue","void-icon"])]),_:1})]),_:1},8,["modelValue"])])}}},fe=M(me,[["__scopeId","data-v-37dc8150"]]),Te={__name:"TodoDrawer",props:{visible:Boolean,data:Object},emits:["update-visible","delete"],setup(f,{emit:s}){const a=f,r=s,m=o=>{console.log("🚀 ~ openkkk ~ value:",o)},T=o=>{console.log("🚀 ~ handleClose ~ value:",o),r("update-visible",!1)},t=()=>{r("delete",a.data.id)};return(o,O)=>{const N=X,w=Y;return v(),p("div",null,[l(w,{width:340,"model-value":f.visible,onOpen:m,onClose:T,unmountOnClose:""},{footer:i(()=>[d("div",null,[l(N,{onClick:t,type:"danger",plain:""},{default:i(()=>[S("删除")]),_:1})])]),default:i(()=>[d("div",null,"任务名："+g(f.data.text),1)]),_:1},8,["model-value"])])}}},be={class:"todo_box"},he=["onClick"],Oe={class:"todo_item_text"},Ne={class:"show_com_todo_button"},we={class:"show_com_todo_button"},xe={class:"todo_box"},ge={__name:"TodoList",setup(f){const s=_([]),a=_(!1);function r(){const e=localStorage.getItem("todos");e&&(s.value=JSON.parse(e))}const m=B(()=>s.value.filter(e=>!e.done)),T=B(()=>s.value.filter(e=>e.done));V(s,e=>{localStorage.setItem("todos",JSON.stringify(e)),setTimeout(()=>{r()},0)},{deep:!0});const t=_(!1),o=_({}),O=e=>{o.value=e,t.value=!0},N=e=>{t.value=e,console.log("🚀 ~ updateDrawerVisible ~ showDrawer.value:",t.value)},w=()=>{const e=new Audio("/check-sound.mp3");console.log("🚀 ~ playSound ~ audio:",e),e.play()},D=e=>{console.log("🚀 ~ handleDeleteTodo ~ id:",e),s.value=s.value.filter(u=>u.id!==e),t.value=!1,o.value={}};return G(()=>{r()}),(e,u)=>{const x=oe,y=U("ArrowUp"),C=L,E=U("ArrowDown");return v(),p("div",null,[d("div",be,[(v(!0),p(I,null,P(m.value,c=>(v(),p("div",{key:c.id,class:"todo_item",onClick:b=>O(c)},[l(x,{modelValue:c.done,"onUpdate:modelValue":b=>c.done=b,onClick:Z(w,["stop"])},null,8,["modelValue","onUpdate:modelValue"]),d("div",Oe,g(c.text),1)],8,he))),128))]),d("div",{class:"show_com_todo",onClick:u[0]||(u[0]=()=>a.value=!a.value)},[R(d("div",Ne,[S(" 隐藏已完成任务 "),l(C,null,{default:i(()=>[l(y)]),_:1})],512),[[A,a.value]]),R(d("div",we,[S(" 显示未完成任务 "),l(C,null,{default:i(()=>[l(E)]),_:1})],512),[[A,!a.value]])]),R(d("div",xe,[(v(!0),p(I,null,P(T.value,c=>(v(),p("div",{key:c.id,class:"todo_item todo_item_completed"},[l(x,{modelValue:c.done,"onUpdate:modelValue":b=>c.done=b},null,8,["modelValue","onUpdate:modelValue"]),d("div",{class:ee(["todo_item_text",{todo_item_text_completed:c.done}])},g(c.text),3)]))),128))],512),[[A,a.value]]),l(Te,{visible:t.value,onUpdateVisible:N,data:o.value,onDelete:D},null,8,["visible","data"])])}}},ye=M(ge,[["__scopeId","data-v-a82bf431"]]),Ce={class:"todo_list_page"},Ve={__name:"index",setup(f){const s=_([]),a=_(!1);_(!1),_(null);function r(){const t=localStorage.getItem("todos");t&&(s.value=JSON.parse(t))}function m(){a.value=!1}function T(t){t.id=Date.now(),s.value.unshift(t),a.value=!1}return V(s,t=>{localStorage.setItem("todos",JSON.stringify(t))},{deep:!0}),G(()=>{r()}),(t,o)=>(v(),p("div",Ce,[l(fe,{visible:a.value,onClose:m,onUpdate:T},null,8,["visible"]),l(ye,{todos:s.value},null,8,["todos"])]))}},Ee=M(Ve,[["__scopeId","data-v-5e87799c"]]);export{Ee as default};
