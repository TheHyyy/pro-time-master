import{_ as M,r as _,w as V,o as v,c as p,a as l,b as c,d as J,e as U,E as j,f as i,n as $,F as I,g as P,t as g,u as K,h,i as L,j as q,k as H,l as Q,m as W,p as S,q as X,s as Y,v as B,x as G,y as R,z as k,A as Z,B as ee,C as oe,D as le}from"./index-DvJ_68SX.js";const te="1",se="2",ae="3",A="4",ne="#E47470",de="#DCA550",ce="#7EC050",ie="#5A9CF8",ue={class:""},_e={class:"select_option"},re={class:"select_option_label1"},ve={class:"select_option_label2"},pe={class:"select_option_icon"},me={class:"select_label"},fe={__name:"AddPlan",props:{todo:Object,visible:Boolean},emits:["update","close"],setup(T,{emit:s}){const a=T,r=s,m=_(a.visible),f=[h,h,h,h,h],t=[{value:te,label1:"紧急",label2:"重要",color:ne},{value:se,label1:"紧急",label2:"不重要",color:de},{value:ae,label1:"不紧急",label2:"重要",color:ce},{value:A,label1:"不紧急",label2:"不重要",color:ie}],o=_({id:null,text:"",priority:A,estimatedPomodoros:0}),O=_("添加新的待办事项");V(()=>a.todo,e=>{e?(o.value={...e},O.value="编辑待办事项",m.value=!0):N()},{immediate:!0}),V(()=>a.visible,e=>{m.value=e});function N(){o.value={id:null,text:"",priority:A,estimatedPomodoros:0},O.value="添加新的待办事项"}function w(){o.value.text.trim()&&(r("update",{...o.value,done:!1}),D())}function D(){r("close")}return(e,u)=>{const x=U("MessageBox"),y=L,C=q,E=H,d=Q,b=W,F=j;return v(),p("div",ue,[l(F,{modelValue:o.value.text,"onUpdate:modelValue":u[2]||(u[2]=n=>o.value.text=n),placeholder:"在'任务'中添加一个任务，按'回车'键保存",onKeyup:J(w,["enter"])},{prepend:c(()=>[l(E,{modelValue:o.value.priority,"onUpdate:modelValue":u[0]||(u[0]=n=>o.value.priority=n),placeholder:"Select",size:"large",style:{width:"80px"}},{label:c(()=>{var n;return[i("div",me,[l(y,{style:$({color:(n=t.find(z=>z.value==o.value.priority))==null?void 0:n.color})},{default:c(()=>[l(x)]),_:1},8,["style"])])]}),default:c(()=>[(v(),p(I,null,P(t,n=>l(C,{key:n.value,label:n.label,value:n.value},{default:c(()=>[i("div",_e,[i("div",re,g(n.label1),1),i("div",ve,g(n.label2),1),i("div",pe,[l(y,{style:$({color:n.color||"#3f8ef7"})},{default:c(()=>[l(x)]),_:2},1032,["style"])])])]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"])]),append:c(()=>[l(b,{placement:"top-start",width:200,trigger:"hover",content:"预计番茄钟~"},{reference:c(()=>[l(d,{modelValue:o.value.estimatedPomodoros,"onUpdate:modelValue":u[1]||(u[1]=n=>o.value.estimatedPomodoros=n),icons:f,"void-icon":K(h),colors:["#409eff","#67c23a","#FF9900"],clearable:""},null,8,["modelValue","void-icon"])]),_:1})]),_:1},8,["modelValue"])])}}},Te=M(fe,[["__scopeId","data-v-37dc8150"]]),be={__name:"TodoDrawer",props:{visible:Boolean,data:Object},emits:["update-visible","delete"],setup(T,{emit:s}){const a=T,r=s,m=o=>{console.log("🚀 ~ openkkk ~ value:",o)},f=o=>{console.log("🚀 ~ handleClose ~ value:",o),r("update-visible",!1)},t=()=>{r("delete",a.data.id)};return(o,O)=>{const N=X,w=Y;return v(),p("div",null,[l(w,{width:340,"model-value":T.visible,onOpen:m,onClose:f,unmountOnClose:""},{footer:c(()=>[i("div",null,[l(N,{onClick:t,type:"danger",plain:""},{default:c(()=>[S("删除")]),_:1})])]),default:c(()=>[i("div",null,"任务名："+g(T.data.text),1)]),_:1},8,["model-value"])])}}},he={class:"todo_box"},Oe=["onClick"],Ne={class:"todo_item_text"},we={class:"show_com_todo_button"},xe={class:"show_com_todo_button"},ge={class:"todo_box"},ye={__name:"TodoList",setup(T){const s=_([]),a=_(!1);function r(){const e=localStorage.getItem("todos");e&&(s.value=JSON.parse(e))}const m=B(()=>s.value.filter(e=>!e.done)),f=B(()=>s.value.filter(e=>e.done));V(s,e=>{localStorage.setItem("todos",JSON.stringify(e)),setTimeout(()=>{r()},0)},{deep:!0});const t=_(!1),o=_({}),O=e=>{o.value=e,t.value=!0},N=e=>{t.value=e,console.log("🚀 ~ updateDrawerVisible ~ showDrawer.value:",t.value)},w=()=>{const e=new Audio("/check-sound.mp3");console.log("🚀 ~ playSound ~ audio:",e),e.play()},D=e=>{console.log("🚀 ~ handleDeleteTodo ~ id:",e),s.value=s.value.filter(u=>u.id!==e),t.value=!1,o.value={}};return G(()=>{r()}),(e,u)=>{const x=le,y=U("ArrowUp"),C=L,E=U("ArrowDown");return v(),p("div",null,[i("div",he,[(v(!0),p(I,null,P(m.value,d=>(v(),p("div",{key:d.id,class:"todo_item",onClick:b=>O(d)},[l(x,{modelValue:d.done,"onUpdate:modelValue":b=>d.done=b,onClick:ee(w,["stop"])},null,8,["modelValue","onUpdate:modelValue"]),i("div",Ne,g(d.text),1)],8,Oe))),128))]),f.value.length?(v(),p("div",{key:0,class:"show_com_todo",onClick:u[0]||(u[0]=()=>a.value=!a.value)},[R(i("div",we,[S(" 隐藏已完成任务 "),l(C,null,{default:c(()=>[l(y)]),_:1})],512),[[k,a.value]]),R(i("div",xe,[S(" 显示未完成任务 "),l(C,null,{default:c(()=>[l(E)]),_:1})],512),[[k,!a.value]])])):Z("",!0),R(i("div",ge,[(v(!0),p(I,null,P(f.value,d=>(v(),p("div",{key:d.id,class:"todo_item todo_item_completed"},[l(x,{modelValue:d.done,"onUpdate:modelValue":b=>d.done=b},null,8,["modelValue","onUpdate:modelValue"]),i("div",{class:oe(["todo_item_text",{todo_item_text_completed:d.done}])},g(d.text),3)]))),128))],512),[[k,a.value]]),l(be,{visible:t.value,onUpdateVisible:N,data:o.value,onDelete:D},null,8,["visible","data"])])}}},Ce=M(ye,[["__scopeId","data-v-0c2ff00a"]]),Ve={class:"todo_list_page"},De={__name:"index",setup(T){const s=_([]),a=_(!1);_(!1),_(null);function r(){const t=localStorage.getItem("todos");t&&(s.value=JSON.parse(t))}function m(){a.value=!1}function f(t){t.id=Date.now(),s.value.unshift(t),a.value=!1}return V(s,t=>{localStorage.setItem("todos",JSON.stringify(t))},{deep:!0}),G(()=>{r()}),(t,o)=>(v(),p("div",Ve,[l(Te,{visible:a.value,onClose:m,onUpdate:f},null,8,["visible"]),l(Ce,{todos:s.value},null,8,["todos"])]))}},Re=M(De,[["__scopeId","data-v-1b783202"]]);export{Re as default};
